webpackJsonp([12],{axWI:function(a,t){},vzWb:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={data:function(){return{forData:{},faculty:null,major:null,facultyName:null,majorName:null}},methods:{handleSubmit:function(){var a=this;this.forData.gradeName?this.$axios.post("/grade",this.forData).then(function(t){0==t.code?(a.$message.success(t.msg),setTimeout(function(){a.$router.push("/layout/gradeList?faculty="+a.faculty+"&major="+a.major)},500)):a.$message(t.msg)}):this.$message("请输入必填字段")},getdata:function(){var a=this,t=this.$route.params.id;this.$axios.get("/grade/"+t).then(function(t){a.forData=t.data,a.major=t.data.major._id,a.faculty=t.data.major.faculty._id,a.majorName=t.data.major.majorName,a.facultyName=t.data.major.faculty.facultyName,a.forData.major=t.data.major._id})},handlerevise:function(){var a=this,t=this.$route.params.id;this.$axios.put("/grade/"+t,this.forData).then(function(t){0==t.code?(a.$message.success(t.msg),setTimeout(function(){a.$router.push("/layout/gradeList?faculty="+a.faculty+"&major="+a.major)},500)):a.$message(t.msg)})}},computed:{isrevise:function(){var a=this;return"修改班级"==this.$route.meta.title?(this.getdata(),!0):"添加班级"==this.$route.meta.title?(this.forData={major:null,gradeName:null,desc:null},this.faculty=this.$route.query.faculty,this.major=this.$route.query.major,this.forData.major=this.$route.query.major,this.$axios.get("/major/"+this.major).then(function(t){a.majorName=t.data.majorName,a.facultyName=t.data.faculty.facultyName}),!1):void 0}}},o={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("el-breadcrumb",{staticClass:"mb30",attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/layout/home"}}},[a._v("首页")]),a._v(" "),e("el-breadcrumb-item",{attrs:{to:{path:"/layout/facultyList"}}},[a._v("院系列表页")]),a._v(" "),e("el-breadcrumb-item",{attrs:{to:{path:"/layout/majorList?faculty="+this.faculty}}},[a._v("专业列表页")]),a._v(" "),e("el-breadcrumb-item",{attrs:{to:{path:"/layout/majorList?faculty="+this.faculty+"&major="+this.major}}},[a._v("班级列表页")]),a._v(" "),a.isrevise?e("el-breadcrumb-item",[a._v("修改班级")]):e("el-breadcrumb-item",[a._v("添加班级")])],1),a._v(" "),e("el-card",[e("el-form",{ref:"form",staticClass:"table-ys",staticStyle:{width:"500px"},attrs:{model:a.forData,"label-width":"80px","label-position":"left"}},[e("el-form-item",{attrs:{label:"所属院系",required:""}},[e("el-input",{attrs:{disabled:""},model:{value:a.facultyName,callback:function(t){a.facultyName=t},expression:"facultyName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"所属专业",required:""}},[e("el-input",{attrs:{disabled:""},model:{value:a.majorName,callback:function(t){a.majorName=t},expression:"majorName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"班级名称",required:""}},[e("el-input",{model:{value:a.forData.gradeName,callback:function(t){a.$set(a.forData,"gradeName",t)},expression:"forData.gradeName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"班级描述"}},[e("el-input",{model:{value:a.forData.desc,callback:function(t){a.$set(a.forData,"desc",t)},expression:"forData.desc"}})],1),a._v(" "),e("el-form-item",[a.isrevise?e("el-button",{attrs:{type:"primary"},on:{click:a.handlerevise}},[a._v("立即修改")]):e("el-button",{attrs:{type:"primary"},on:{click:a.handleSubmit}},[a._v("立即创建")]),a._v(" "),e("el-button",{on:{click:function(t){a.$router.back()}}},[a._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var s=e("VU/8")(r,o,!1,function(a){e("axWI")},"data-v-760a4a16",null);t.default=s.exports}});
//# sourceMappingURL=12.9c9069c3ff899b16b5e2.js.map