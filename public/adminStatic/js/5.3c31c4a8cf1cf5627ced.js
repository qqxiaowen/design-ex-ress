webpackJsonp([5],{BMYE:function(t,a){},HedC:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={data:function(){return{forData:{},facultyName:null}},methods:{handleSubmit:function(){var t=this;this.forData.majorName?this.$axios.post("/major",this.forData).then(function(a){0==a.code?(t.$message.success(a.msg),setTimeout(function(){t.$router.push("/layout/majorList?faculty="+t.forData.faculty)},500)):t.$message(a.msg)}):this.$message("请输入必填字段")},getdata:function(){var t=this,a=this.$route.params.id;this.$axios.get("/major/"+a).then(function(a){t.forData=a.data,t.facultyName=a.data.faculty.facultyName,t.forData.faculty=a.data.faculty._id})},handlerevise:function(){var t=this,a=this.$route.params.id;this.$axios.put("/major/"+a,this.forData).then(function(a){0==a.code?(t.$message.success(a.msg),setTimeout(function(){t.$router.push("/layout/majorList?faculty="+t.forData.faculty)},500)):t.$message(a.msg)})}},computed:{isrevise:function(){var t=this;return"修改专业"==this.$route.meta.title?(this.getdata(),!0):"添加专业"==this.$route.meta.title?(this.forData={majorName:null,desc:null},this.forData.faculty=this.$route.query.faculty,this.$axios.get("/faculty/"+this.forData.faculty).then(function(a){t.facultyName=a.data.facultyName}),!1):void 0}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-breadcrumb",{staticClass:"mb30",attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/layout/home"}}},[t._v("首页")]),t._v(" "),e("el-breadcrumb-item",{attrs:{to:{path:"/layout/facultyList"}}},[t._v("院系列表页")]),t._v(" "),e("el-breadcrumb-item",{attrs:{to:{path:"/layout/majorList?faculty="+this.forData.faculty}}},[t._v("专业列表页")]),t._v(" "),t.isrevise?e("el-breadcrumb-item",[t._v("修改专业")]):e("el-breadcrumb-item",[t._v("添加专业")])],1),t._v(" "),e("el-card",[e("el-form",{ref:"form",staticClass:"table-ys",staticStyle:{width:"500px"},attrs:{model:t.forData,"label-width":"80px","label-position":"left"}},[e("el-form-item",{attrs:{label:"所属院系",required:""}},[e("el-input",{attrs:{disabled:""},model:{value:t.facultyName,callback:function(a){t.facultyName=a},expression:"facultyName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"专业名称",required:""}},[e("el-input",{model:{value:t.forData.majorName,callback:function(a){t.$set(t.forData,"majorName",a)},expression:"forData.majorName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"专业描述"}},[e("el-input",{model:{value:t.forData.desc,callback:function(a){t.$set(t.forData,"desc",a)},expression:"forData.desc"}})],1),t._v(" "),e("el-form-item",[t.isrevise?e("el-button",{attrs:{type:"primary"},on:{click:t.handlerevise}},[t._v("立即修改")]):e("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("立即创建")]),t._v(" "),e("el-button",{on:{click:function(a){t.$router.back()}}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var o=e("VU/8")(r,s,!1,function(t){e("BMYE")},"data-v-ce9b6772",null);a.default=o.exports}});
//# sourceMappingURL=5.3c31c4a8cf1cf5627ced.js.map