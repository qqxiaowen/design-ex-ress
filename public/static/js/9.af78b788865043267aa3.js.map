{"version":3,"sources":["webpack:///src/views/clock/commonClock.vue","webpack:///./src/views/clock/commonClock.vue?14f8","webpack:///./src/views/clock/commonClock.vue"],"names":["commonClock","data","tableData","methods","getData","_this","this","$axios","get","$route","query","grade","then","res","code","forEach","item","status","Object","mint_ui_common","setTimeout","$router","push","handleClock","_this2","clockContent","student","_id","clockName","Date","toLocaleDateString","toTimeString","substr","post","content","teacher","$store","state","userinfo","course","created","clock_commonClock","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","_l","index","key","directives","name","rawName","value","expression","_s","numId","username","attrs","type","domProps","checked","_q","on","change","$event","$set","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.af78b788865043267aa3.js","sourcesContent":["<template>\r\n    <div>\r\n        <table class=\"tableStyle\">\r\n            <thead>\r\n                <tr>\r\n                    <th>头像</th>\r\n                    <th>学号</th>\r\n                    <th>姓名</th>\r\n                    <th>状态</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"(item, index) in tableData\" :key=\"item._id\">\r\n                    <td><img v-lazy=\"item.avatar\"></td>\r\n                    <td>{{item.numId}}</td>\r\n                    <td>{{item.username}}</td>\r\n                    <td class=\"td-status\">\r\n                        <label><input type=\"radio\" :name=\"'status' + index\" :value=\"2\" v-model=\"item.status\">出勤</label>\r\n                        <label><input type=\"radio\" :name=\"'status' + index\" :value=\"1\" v-model=\"item.status\">请假</label>\r\n                        <label><input type=\"radio\" :name=\"'status' + index\" :value=\"0\" v-model=\"item.status\">旷课</label>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n        <div class=\"operation\">\r\n            <div @click=\"handleClock\">立即创建</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {Toast} from 'mint-ui';\r\n    export default {\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            getData() {\r\n               this.$axios.get(`/user/student/grade/${this.$route.query.grade}`).then(res => {\r\n                   if (res.code == 0 && res.data[0]) {\r\n                       this.tableData = res.data;\r\n                       res.data.forEach( item => {\r\n                            item.status = 2\r\n                       })\r\n                   } else {\r\n                       Toast('该班级下还没有添加学生');\r\n                       setTimeout( () => {\r\n                           this.$router.push('/layout/home')\r\n                       }, 500)\r\n                   }\r\n               })\r\n            },\r\n\r\n            handleClock() {\r\n                let clockContent = [];\r\n                this.tableData.forEach( item => {\r\n                    clockContent.push({\r\n                        student: item._id,\r\n                        status: item.status\r\n                    })\r\n                })\r\n                let clockName = new Date().toLocaleDateString() +\" \"+ new Date().toTimeString().substr(0, 5) ;\r\n                // console.log(clockName)\r\n                // console.log(clockContent);  clockName\r\n                // console.log('教师：', this.$store.state.userinfo._id, this.$route.query.grade, this.$route.query.course)\r\n\r\n                this.$axios.post(`clock`, {\r\n                    clockName,\r\n                    content: clockContent,\r\n                    teacher: this.$store.state.userinfo._id,\r\n                    grade: this.$route.query.grade,\r\n                    course: this.$route.query.course\r\n                }).then (res => {\r\n                    if (res.code == 0) {\r\n                        Toast('创建成功')\r\n                        setTimeout( () => {\r\n                            this.$router.push(`/layout/home`);\r\n                        }, 500)\r\n                    }\r\n                })\r\n\r\n            }\r\n        },\r\n\r\n        created() {\r\n            this.getData()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.tableStyle {\r\n    border-collapse: collapse;\r\n    table-layout: fixed;\r\n    width: 100%;\r\n    thead {\r\n        line-height: 0.8rem;\r\n    }\r\n    tr {\r\n        text-align: center;\r\n        th {\r\n            border: 1px solid #ddd;\r\n            background: #f5f5f5;\r\n\r\n            &:nth-of-type(1) {\r\n                width: 14%;\r\n            }\r\n\r\n             &:nth-of-type(2) {\r\n                width: 28%;\r\n            }\r\n\r\n            &:nth-of-type(3) {\r\n                width: 20%;\r\n            }\r\n        }\r\n        td {\r\n            font-size: 0.28rem;\r\n            border: 1px solid #ddd;\r\n            overflow: hidden;\r\n            padding: 0.1rem;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n        }\r\n        \r\n        .td-status {\r\n            font-size: 0;\r\n\r\n            label {\r\n                font-size: 12px;\r\n\r\n                input {\r\n                    vertical-align: middle;\r\n                }\r\n\r\n                &:nth-of-type(1) {\r\n                    color: green;\r\n                }\r\n\r\n                &:nth-of-type(2) {\r\n                    color: rgb(180, 180, 6);\r\n                    padding: 0 2px;\r\n                }\r\n\r\n                &:nth-of-type(3) {\r\n                    color: red;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    img {\r\n        width: 0.6rem;\r\n        height: 0.6rem;\r\n        vertical-align: middle;\r\n    }\r\n}\r\n\r\n.operation {\r\n    padding: .4rem 0 0 .4rem;\r\n    div {\r\n        width: 1.8rem;\r\n        padding: .1rem;        \r\n        line-height: .5rem;\r\n        color: #fff;\r\n        background: #409eff;\r\n        text-align: center;\r\n        border-radius: 4px;\r\n    }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/clock/commonClock.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',{staticClass:\"tableStyle\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.tableData),function(item,index){return _c('tr',{key:item._id},[_c('td',[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.avatar),expression:\"item.avatar\"}]})]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.numId))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.username))]),_vm._v(\" \"),_c('td',{staticClass:\"td-status\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.status),expression:\"item.status\"}],attrs:{\"type\":\"radio\",\"name\":'status' + index},domProps:{\"value\":2,\"checked\":_vm._q(item.status,2)},on:{\"change\":function($event){_vm.$set(item, \"status\", 2)}}}),_vm._v(\"出勤\")]),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.status),expression:\"item.status\"}],attrs:{\"type\":\"radio\",\"name\":'status' + index},domProps:{\"value\":1,\"checked\":_vm._q(item.status,1)},on:{\"change\":function($event){_vm.$set(item, \"status\", 1)}}}),_vm._v(\"请假\")]),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.status),expression:\"item.status\"}],attrs:{\"type\":\"radio\",\"name\":'status' + index},domProps:{\"value\":0,\"checked\":_vm._q(item.status,0)},on:{\"change\":function($event){_vm.$set(item, \"status\", 0)}}}),_vm._v(\"旷课\")])])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"operation\"},[_c('div',{on:{\"click\":_vm.handleClock}},[_vm._v(\"立即创建\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"头像\")]),_vm._v(\" \"),_c('th',[_vm._v(\"学号\")]),_vm._v(\" \"),_c('th',[_vm._v(\"姓名\")]),_vm._v(\" \"),_c('th',[_vm._v(\"状态\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4ece8658\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/clock/commonClock.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4ece8658\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./commonClock.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./commonClock.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./commonClock.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ece8658\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./commonClock.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4ece8658\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/clock/commonClock.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}